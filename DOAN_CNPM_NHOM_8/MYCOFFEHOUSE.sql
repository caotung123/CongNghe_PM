CREATE DATABASE MYCOFFEHOUSE
GO
USE MYCOFFEHOUSE
GO
-------------------TẠO TABLE ĐĂNG NHẬP--------------------
CREATE TABLE DANGNHAP
(
	USERNAME NVARCHAR(10) NOT NULL,
	PASSWORD NVARCHAR(50) NULL,
	QUYEN NVARCHAR(10) NOT NULL CHECK (QUYEN = N'NHAN VIEN' OR QUYEN = N'ADMIN'),
	MANV VARCHAR(10) NOT NULL,
	PRIMARY KEY(MANV, USERNAME),
)

--------------------TẠO TABLE NHÂN VIÊN---------------------
CREATE TABLE NHANVIEN
(
	MANV VARCHAR(10) NOT NULL,
	TENNV NVARCHAR(50) NULL,
	NGAYSINH DATETIME NULL,
	GIOITINH NVARCHAR(5) NULL,
	DIACHI NVARCHAR(50) NULL,
	CMND NVARCHAR(15) NULL,
	SDT NVARCHAR(15) NULL,
	CHUCVU NVARCHAR(20) NULL,
	MACS VARCHAR(10) NOT NULL,
	PRIMARY KEY (MANV),
)

---------------------TẠO TABLE LOẠI THẺ-------------------------
CREATE TABLE LOAITHE
(
	MATHE VARCHAR(10) NOT NULL,
	TENTHE NVARCHAR(50) NULL,
	GHICHU NVARCHAR(100) NULL,
	PRIMARY KEY (MATHE),
)

---------------------TẠO TABLE KHÁCH HÀNG-----------------------
CREATE TABLE KHACHHANG
(
	MAKH VARCHAR(10) NOT NULL,
	TENKH NVARCHAR(50) NULL,
	DIACHI NVARCHAR(50) NULL,
	SDT NVARCHAR(15) NULL,
	DIEMTL INT NULL,
	MATHE VARCHAR(10) NOT NULL,
	PRIMARY KEY(MAKH),
)

---------------------TẠO TABLE LOẠI ĐỒ UỐNG---------------------------
CREATE TABLE LOAINUOC
(
	MALOAI VARCHAR(10) NOT NULL,
	TENLOAI NVARCHAR(50) NULL,
	PRIMARY KEY(MALOAI), 
)

----------------------TẠO TABLE ĐỒ UỐNG------------------------------
CREATE TABLE NUOCUONG
(
	HINHANH IMAGE NULL,
	MANUOC VARCHAR(10) NOT NULL,
	TENNUOC NVARCHAR(50) NULL,
	DVT NVARCHAR(20) NULL,
	DONGIA INT NULL,
	TONKHO INT NULL,
	MALOAI VARCHAR(10) NOT NULL,
	PRIMARY KEY (MANUOC),
)

-----------------------TẠO TABLE NHÀ CUNG CẤP------------------------
CREATE TABLE NCC
(
	MANCC VARCHAR(10) NOT NULL,
	TENNCC NVARCHAR(50) NULL,
	DIACHI NVARCHAR(50) NULL,
	SDT NVARCHAR(15) NULL,
	PRIMARY KEY(MANCC),
)

-----------------------TẠO TABLE CỞ SỞ-------------------------
CREATE TABLE COSO
(
	MACS VARCHAR(10) NOT NULL,
	TENCS NVARCHAR(50) NULL,
	DIACHI NVARCHAR(50) NULL,
	PRIMARY KEY(MACS),
)

----------------------TẠO TABLE PHIẾU NHẬP------------------------
CREATE TABLE PHIEUNHAP
(
	MAPN VARCHAR(10) NOT NULL,
	MANV VARCHAR(10) NOT NULL,
	MANCC VARCHAR(10) NOT NULL,
	MACS VARCHAR(10) NOT NULL,
	NGAYLAP DATETIME NULL,
	TONGTIEN INT NULL,
	PRIMARY KEY(MAPN),
)

-----------------------TẠO TABLE HÓA ĐƠN------------------------
CREATE TABLE HOADON
(
	MAHD INT IDENTITY(1,1) NOT NULL,
	MABAN INT NOT NULL,
	MANV VARCHAR(10) NOT NULL,
	NGAYLAP DATETIME NOT NULL DEFAULT GETDATE(),
	TINHTRANG NVARCHAR(20) NULL,
	SOTIEN INT NULL,
	PRIMARY KEY(MAHD),
)

---------------------TẠO TABLE CHI TIẾT PHIẾU NHẬP---------------------------
CREATE TABLE CTPN
(
	MAPN VARCHAR(10) NOT NULL,
	MANUOC VARCHAR(10) NOT NULL,
	MACS VARCHAR(10) NOT NULL,
	SOLUONG INT NULL,
	DONGIA INT NULL,
	DVT NVARCHAR(20) NULL,
	THANHTIEN INT NULL,
	PRIMARY KEY(MAPN, MANUOC),
)

--------------------TẠO TABLE CHI TIẾT HÓA ĐƠN-------------------------------
CREATE TABLE CTHD
(
	MACTHD INT IDENTITY(1,1) NOT NULL,
	MAHD INT NOT NULL,
	MANUOC VARCHAR(10) NOT NULL,
	MAKH VARCHAR(10) NOT NULL,
	SOLUONG INT NULL,
	PRIMARY KEY(MACTHD),
)

----------------------TẠO TABLE BÀN NƯỚC------------------------
CREATE TABLE BANNUOC
(
	MABAN INT IDENTITY NOT NULL,
	TENBAN NVARCHAR(50) NOT NULL,
	STATUS NVARCHAR(20) NOT NULL CHECK(STATUS = N'Trống' or STATUS=N'Có Người') default N'Trống', --BÀN TRỐNG HOẶC CÓ NGƯỜI || MẶC ĐỊNH LÀ BÀN TRỐNG
	PRIMARY KEY(MABAN),
)

------------------------TẠO TABLE GỌI NƯỚC--------------------------
--CREATE TABLE GOINUOC
--(
--	MAGOINUOC VARCHAR(10) NOT NULL,
--	MABAN INT IDENTITY NOT NULL,
--	MAKH VARCHAR(10) NOT NULL,
--	NGAYGOINUOC DATE NULL,
--	STATUS NVARCHAR(20) NULL,
--	THANHTIEN INT NULL,
--	PRIMARY KEY(MAGOINUOC),
--)

------------------------TẠO TABLE CHI TIẾT GỌI NƯỚC----------------------------
--CREATE TABLE CTGOINUOC
--(
--	MAGOINUOC VARCHAR(10) NOT NULL,
--	MANUOC VARCHAR(10) NOT NULL,
--	SOLUONG INT NULL,
--	STATUS NVARCHAR(20) NULL,
--	THANHTIEN INT NULL,
--	PRIMARY KEY(MAGOINUOC, MANUOC),
--)

-------------------------TẠO TABLE BÁO CÁO THỐNG KÊ---------------------------
--CREATE TABLE BAOCAO
--(
--	MABC VARCHAR(10) NOT NULL,
--	MANV VARCHAR(10) NOT NULL,
--	NGAYLAPBC DATE NULL,
--	PRIMARY KEY(MABC),
--)
-------------------------------------------------------------------
------------------------ADD CONSTRAINT-----------------------------
--ĐĂNG NHẬP
ALTER TABLE DANGNHAP
ADD CONSTRAINT FK_DANGNHAP_NHANVIEN FOREIGN KEY (MANV) REFERENCES NHANVIEN(MANV)

--KHÁCH HÀNG
ALTER TABLE KHACHHANG
ADD CONSTRAINT FK_KHACHHANG_LOAITHE FOREIGN KEY (MATHE) REFERENCES LOAITHE(MATHE)

--ĐỒ UỐNG
ALTER TABLE NUOCUONG
ADD CONSTRAINT FK_NUOCUONG_LOAINUOC FOREIGN KEY (MALOAI) REFERENCES LOAINUOC(MALOAI)

--HÓA ĐƠN
ALTER TABLE HOADON
ADD CONSTRAINT FK_HOADON_NHANVIEN FOREIGN KEY (MANV) REFERENCES NHANVIEN(MANV)
ALTER TABLE HOADON
ADD CONSTRAINT FK_HOADON_BANNUOC FOREIGN KEY (MABAN) REFERENCES BANNUOC(MABAN)

--PHIẾU NHẬP
ALTER TABLE PHIEUNHAP
ADD CONSTRAINT FK_PHIEUNHAP_NHANVIEN FOREIGN KEY (MANV) REFERENCES NHANVIEN(MANV)
ALTER TABLE PHIEUNHAP
ADD CONSTRAINT FK_PHIEUNHAP_NCC FOREIGN KEY (MANCC) REFERENCES NCC(MANCC)
ALTER TABLE PHIEUNHAP
ADD CONSTRAINT FK_PHIEUNHAP_COSO FOREIGN KEY (MACS) REFERENCES COSO(MACS)

--CHI TIẾT HÓA ĐƠN
ALTER TABLE CTHD
ADD CONSTRAINT FK_CTHD_HOADON FOREIGN KEY (MAHD) REFERENCES HOADON(MAHD)
ALTER TABLE CTHD
ADD CONSTRAINT FK_CTHD_NUOCUONG FOREIGN KEY (MANUOC) REFERENCES NUOCUONG(MANUOC)
ALTER TABLE CTHD
ADD CONSTRAINT FK_CTHD_KHACHHANG FOREIGN KEY (MAKH) REFERENCES KHACHHANG(MAKH)

--CHI TIẾT PHIẾU NHẬP
ALTER TABLE CTPN
ADD CONSTRAINT FK_CTPN_PHIEUNHAP FOREIGN KEY (MAPN) REFERENCES PHIEUNHAP(MAPN)
ALTER TABLE CTPN
ADD CONSTRAINT FK_CTPN_NUOCUONG FOREIGN KEY (MANUOC) REFERENCES NUOCUONG(MANUOC)
ALTER TABLE CTPN
ADD CONSTRAINT FK_CTPN_COSO FOREIGN KEY (MACS) REFERENCES COSO(MACS)

----GỌI NƯỚC
--ALTER TABLE GOINUOC
--ADD CONSTRAINT FK_GOINUOC_BANNUOC FOREIGN KEY(MABAN) REFERENCES BANNUOC(MABAN)
--ALTER TABLE GOINUOC
--ADD CONSTRAINT FK_GOINUOC_KHACHHANG FOREIGN KEY(MAKH) REFERENCES KHACHHANG(MAKH)

----CHI TIẾT GỌI NƯỚC
--ALTER TABLE CTGOINUOC
--ADD CONSTRAINT FK_CTGOINUOC_GOINUOC FOREIGN KEY(MAGOINUOC) REFERENCES GOINUOC(MAGOINUOC)
--ALTER TABLE CTGOINUOC
--ADD CONSTRAINT FK_CTGOINUOC_NUOCUONG FOREIGN KEY(MANUOC) REFERENCES NUOCUONG(MANUOC)

----BÁO CÁO
--ALTER TABLE BAOCAO
--ADD CONSTRAINT FK_BAOCAO_NHANVIEN FOREIGN KEY(MANV) REFERENCES NHANVIEN(MANV)

--------------------------------------------------------------------------------
--------------------------THÊM DỮ LIỆU----------------------------------
--THÊM NHÂN VIÊN
INSERT INTO NHANVIEN(MANV,TENNV,NGAYSINH,GIOITINH,DIACHI,CMND,SDT,CHUCVU,MACS) 
VALUES(N'NV01', N'TỐNG ĐĂNG KHOA', CAST(N'2001-02-02' AS DATE), N'NAM', N'TPHCM', N'012345', N'011111', N'NHÂN VIÊN', N'CS01')
INSERT INTO NHANVIEN(MANV,TENNV,NGAYSINH,GIOITINH,DIACHI,CMND,SDT,CHUCVU,MACS) 
VALUES(N'NV02', N'TỐNG ĐĂNG KHOA', CAST(N'2001-05-04' AS DATE), N'NAM', N'TPHCM', N'012334', N'03333', N'NHÂN VIÊN', N'CS02')
INSERT INTO NHANVIEN(MANV,TENNV,NGAYSINH,GIOITINH,DIACHI,CMND,SDT,CHUCVU,MACS) 
VALUES(N'QL01', N'NGUYỄN CAO TÙNG', CAST(N'2001-03-10' AS DATE), N'NAM', N'TPHCM', N'023345', N'03333', N'QUẢN LÝ', N'CS01')

--THÊM ĐĂNG NHẬP
GO
INSERT INTO DANGNHAP(USERNAME, PASSWORD, QUYEN, MANV) VALUES (N'admin', N'123', N'ADMIN', N'QL01')
INSERT INTO DANGNHAP(USERNAME, PASSWORD, QUYEN, MANV) VALUES (N'nv02', N'123', N'NHAN VIEN', N'NV02')
INSERT INTO DANGNHAP(USERNAME, PASSWORD, QUYEN, MANV) VALUES (N'nv01', N'123', N'NHAN VIEN', N'NV01')

--THÊM BÀN NƯỚC
DECLARE @i INT = 0
WHILE @i <= 20
BEGIN
	INSERT INTO BANNUOC (TENBAN) VALUES (N'BÀN' + CAST(@i AS nvarchar(50)))
	SET @i = @i + 1
END

SELECT * FROM BANNUOC
--THÊM CƠ SỞ
INSERT INTO COSO(MACS, TENCS, DIACHI) VALUES(N'CS01', N'CAFE PHƯỚC HẠNH', N'BÌNH THẠNH')
INSERT INTO COSO(MACS, TENCS, DIACHI) VALUES(N'CS02', N'CAFE MỸ HOÀNG', N'HÀ NỘI')

--THÊM LOẠI THẺ
INSERT INTO LOAITHE(MATHE, TENTHE, GHICHU) VALUES(N'THE01', N'THẺ VIP', N'ĐƯỢC ƯU ĐÃI')
INSERT INTO LOAITHE(MATHE, TENTHE, GHICHU) VALUES(N'THE02', N'THẺ THƯỜNG', N'KHÔNG ĐƯỢC ƯU ĐÃI')

GO
--THÊM KHÁCH HÀNG
INSERT INTO KHACHHANG(MAKH, TENKH, DIACHI, SDT, DIEMTL, MATHE) VALUES(N'KH01', N'NGUYỄN HỒNG NHUNG', N'QUẬN TÂN PHÚ', N'09887648', 60, N'THE02')
INSERT INTO KHACHHANG(MAKH, TENKH, DIACHI, SDT, DIEMTL, MATHE) VALUES(N'KH02', N'TÁN MINH TRÍ', N'QUẬN BÌNH TÂN', N'09831542', 70, N'THE02')
INSERT INTO KHACHHANG(MAKH, TENKH, DIACHI, SDT, DIEMTL, MATHE) VALUES(N'KH03', N'DƯƠNG TRUNG HIẾU', N'QUẬN 10', N'09885446', 80, N'THE01')
INSERT INTO KHACHHANG(MAKH, TENKH, DIACHI, SDT, DIEMTL, MATHE) VALUES(N'KH04', N'ĐỖ NGUYỄN THU PHƯƠNG', N'QUẬN 6', N'09884642', 90, N'THE02')
INSERT INTO KHACHHANG(MAKH, TENKH, DIACHI, SDT, DIEMTL, MATHE) VALUES(N'KH05', N'NGUYỄN NGỌC BÍCH', N'QUẬN 4', N'09854654', 50, N'THE01')

GO
--THÊM NHÀ CUNG CẤP
INSERT INTO NCC(MANCC, TENNCC, DIACHI, SDT) VALUES(N'NCC01', N'LAVIES', N'LONG AN', N'0134132443')
INSERT INTO NCC(MANCC, TENNCC, DIACHI, SDT) VALUES(N'NCC02', N'SUNTORY PEPSICO ', N'HÀ NỘI', N'0523453454')
INSERT INTO NCC(MANCC, TENNCC, DIACHI, SDT) VALUES(N'NCC03', N'CTY TNHH RED BULL', N'BÌNH DƯƠNG', N'0234534545')
INSERT INTO NCC(MANCC, TENNCC, DIACHI, SDT) VALUES(N'NCC04', N'VIFOTEX', N'ĐỒNG NAI', N'0432343432')

GO
--THÊM LOẠI NƯỚC
INSERT INTO LOAINUOC(MALOAI,TENLOAI) VALUES(N'LN01', N'NƯỚC NGỌT')
INSERT INTO LOAINUOC(MALOAI,TENLOAI) VALUES(N'LN02', N'NƯỚC SUỐI')
INSERT INTO LOAINUOC(MALOAI,TENLOAI) VALUES(N'LN03', N'TRÀ SỮA')
INSERT INTO LOAINUOC(MALOAI,TENLOAI) VALUES(N'LN04', N'CAFE')

GO
--THÊM ĐỒ UỐNG
INSERT INTO NUOCUONG(HINHANH, MANUOC, TENNUOC, DVT, DONGIA, TONKHO, MALOAI) 
VALUES(NULL, N'N01', N'TRÀ SỮA CHÂN TRÂU ĐƯỜNG ĐEN', N'LY', 35000, 50, N'LN03')
INSERT INTO NUOCUONG(HINHANH, MANUOC, TENNUOC, DVT, DONGIA, TONKHO, MALOAI) 
VALUES(NULL, N'N02', N'7 UP', N'CHAI', 15000, 100, N'LN01')
INSERT INTO NUOCUONG(HINHANH, MANUOC, TENNUOC, DVT, DONGIA, TONKHO, MALOAI) 
VALUES(NULL, N'N03', N'PEPSI', N'CHAI', 15000, 50, N'LN01')
INSERT INTO NUOCUONG(HINHANH, MANUOC, TENNUOC, DVT, DONGIA, TONKHO, MALOAI) 
VALUES(NULL, N'N04', N'CAFE SỮA ĐÁ', N'LY', 15000, 70, N'LN04')
INSERT INTO NUOCUONG(HINHANH, MANUOC, TENNUOC, DVT, DONGIA, TONKHO, MALOAI) 
VALUES(NULL, N'N05', N'CAFE ĐÁ', N'LY', 10000, 70, N'LN04')
INSERT INTO NUOCUONG(HINHANH, MANUOC, TENNUOC, DVT, DONGIA, TONKHO, MALOAI) 
VALUES(NULL, N'N06', N'TRÀ SỮA Ô LÔNG', N'LY', 25000, 60, N'LN03')
INSERT INTO NUOCUONG(HINHANH, MANUOC, TENNUOC, DVT, DONGIA, TONKHO, MALOAI) 
VALUES(NULL, N'N07', N'NƯỚC SUỐI LAVIE', N'CHAI', 10000, 100, N'LN02')
INSERT INTO NUOCUONG(HINHANH, MANUOC, TENNUOC, DVT, DONGIA, TONKHO, MALOAI) 
VALUES(NULL, N'N08', N'CAFE SỮA ĐÁ XAY', N'LY', 50000, 55, N'LN04')
INSERT INTO NUOCUONG(HINHANH, MANUOC, TENNUOC, DVT, DONGIA, TONKHO, MALOAI) 
VALUES(NULL, N'N09', N'TRÀ ĐÀO', N'LY', 35000, 60, N'LN03')
INSERT INTO NUOCUONG(HINHANH, MANUOC, TENNUOC, DVT, DONGIA, TONKHO, MALOAI) 
VALUES(NULL, N'N010', N'HỒNG TRÀ SỮA', N'LY', 45000, 70, N'LN03')
SELECT*FROM NUOCUONG

GO
--THÊM HÓA ĐƠN
SET IDENTITY_INSERT HOADON ON
INSERT INTO HOADON(MAHD,MABAN,MANV,NGAYLAP,TINHTRANG,SOTIEN) VALUES(21, 5, N'NV01', CAST(N'2022-02-03' AS DATE), N'CHƯA THANH TOÁN', 50000)
INSERT INTO HOADON(MAHD,MABAN,MANV,NGAYLAP,TINHTRANG,SOTIEN) VALUES(22, 4, N'NV02', CAST(N'2022-01-05' AS DATE), N'ĐÃ THANH TOÁN', 75000)
INSERT INTO HOADON(MAHD,MABAN,MANV,NGAYLAP,TINHTRANG,SOTIEN) VALUES(23, 3, N'NV02', CAST(N'2022-08-07' AS DATE), N'ĐÃ THANH TOÁN', 100000)
INSERT INTO HOADON(MAHD,MABAN,MANV,NGAYLAP,TINHTRANG,SOTIEN) VALUES(24, 2, N'NV01', CAST(N'2022-04-06' AS DATE), N'ĐÃ THANH TOÁN', 10000)
INSERT INTO HOADON(MAHD,MABAN,MANV,NGAYLAP,TINHTRANG,SOTIEN) VALUES(25, 1, N'NV01', CAST(N'2022-03-05' AS DATE), N'CHƯA THANH TOÁN', 20000)
SET IDENTITY_INSERT HOADON OFF
SELECT * FROM HOADON

GO
--THÊM PHIẾU NHẬP HÀNG
INSERT INTO PHIEUNHAP(MAPN,MANV,MANCC,MACS,NGAYLAP,TONGTIEN) VALUES(N'PN01', N'NV01', N'NCC01', N'CS01', CAST(N'2021-03-05' AS DATE), 2000000)
INSERT INTO PHIEUNHAP(MAPN,MANV,MANCC,MACS,NGAYLAP,TONGTIEN) VALUES(N'PN02', N'NV02', N'NCC02', N'CS02', CAST(N'2021-02-06' AS DATE), 1000000)
INSERT INTO PHIEUNHAP(MAPN,MANV,MANCC,MACS,NGAYLAP,TONGTIEN) VALUES(N'PN03', N'QL01', N'NCC03', N'CS01', CAST(N'2021-04-10' AS DATE), 1200000)
INSERT INTO PHIEUNHAP(MAPN,MANV,MANCC,MACS,NGAYLAP,TONGTIEN) VALUES(N'PN04', N'NV02', N'NCC04', N'CS02', CAST(N'2021-03-07' AS DATE), 3000000)
SELECT*FROM PHIEUNHAP

GO
--THÊM CHI TIẾT HÓA ĐƠN
SET IDENTITY_INSERT CTHD ON
INSERT INTO CTHD(MACTHD,MAHD,MANUOC,MAKH,SOLUONG) VALUES(26, 21, N'N01', N'KH01', 1)
INSERT INTO CTHD(MACTHD,MAHD,MANUOC,MAKH,SOLUONG) VALUES(27, 22, N'N02', N'KH02', 2)
INSERT INTO CTHD(MACTHD,MAHD,MANUOC,MAKH,SOLUONG) VALUES(28, 23, N'N03', N'KH03', 2)
INSERT INTO CTHD(MACTHD,MAHD,MANUOC,MAKH,SOLUONG) VALUES(29, 24, N'N04', N'KH04', 3)
INSERT INTO CTHD(MACTHD,MAHD,MANUOC,MAKH,SOLUONG) VALUES(30, 25, N'N05', N'KH05', 1)
SET IDENTITY_INSERT CTHD OFF
--GO
----THÊM GỌI NƯỚC
--SET IDENTITY_INSERT GOINUOC ON
--INSERT INTO GOINUOC(MAGOINUOC,MABAN,MAKH,NGAYGOINUOC,STATUS,THANHTIEN) 
--VALUES(N'GOINUOC01', 1, N'KH01', CAST(N'2021-10-11' AS DATE), N'BÀN TRỐNG', 50000)
--INSERT INTO GOINUOC(MAGOINUOC,MABAN,MAKH,NGAYGOINUOC,STATUS,THANHTIEN) 
--VALUES(N'GOINUOC02', 2, N'KH02', CAST(N'2021-10-12' AS DATE), N'BÀN TRỐNG', 30000)
--INSERT INTO GOINUOC(MAGOINUOC,MABAN,MAKH,NGAYGOINUOC,STATUS,THANHTIEN) 
--VALUES(N'GOINUOC03', 3, N'KH03', CAST(N'2021-08-06' AS DATE), N'BÀN TRỐNG', 35000)
--INSERT INTO GOINUOC(MAGOINUOC,MABAN,MAKH,NGAYGOINUOC,STATUS,THANHTIEN) 
--VALUES(N'GOINUOC04', 4, N'KH04', CAST(N'2021-09-2' AS DATE), N'BÀN TRỐNG', 10000)
--INSERT INTO GOINUOC(MAGOINUOC,MABAN,MAKH,NGAYGOINUOC,STATUS,THANHTIEN) 
--VALUES(N'GOINUOC05', 5, N'KH05', CAST(N'2021-12-11' AS DATE), N'BÀN TRỐNG', 40000)
--SELECT*FROM GOINUOC

--GO
----THÊM CHI TIẾT GỌI NƯỚC
--INSERT INTO CTGOINUOC(MAGOINUOC,MANUOC,SOLUONG,STATUS,THANHTIEN) 
--VALUES(N'GOINUOC01', N'N01', 0, N'BÀN TRỐNG', 0)
--INSERT INTO CTGOINUOC(MAGOINUOC,MANUOC,SOLUONG,STATUS,THANHTIEN) 
--VALUES(N'GOINUOC02', N'N02', 3, N'CÓ NGƯỜI', 45000)
--INSERT INTO CTGOINUOC(MAGOINUOC,MANUOC,SOLUONG,STATUS,THANHTIEN) 
--VALUES(N'GOINUOC03', N'N03', 1, N'BÀN TRỐNG', 15000)
--INSERT INTO CTGOINUOC(MAGOINUOC,MANUOC,SOLUONG,STATUS,THANHTIEN) 
--VALUES(N'GOINUOC04', N'N04', 2, N'BÀN TRỐNG', 15000)
--SELECT*FROM CTGOINUOC 

--GO
----THÊM BÁO CÁO
--INSERT INTO BAOCAO(MABC,MANV,NGAYLAPBC) VALUES(N'BC01', N'NV01', CAST(N'2022-05-06' AS DATE))
--INSERT INTO BAOCAO(MABC,MANV,NGAYLAPBC) VALUES(N'BC02', N'NV02', CAST(N'2022-06-06' AS DATE))
--SELECT*FROM BAOCAO

-------------------------------------------------------------------------------------------
-------------------------------------TẠO VIEW GỌI NƯỚC-------------------------------------
--GO
--CREATE VIEW VIEW_GOINUOC
--AS
--SELECT NUOCUONG.HINHANH, GOINUOC.MAGOINUOC, GOINUOC.MABAN, NUOCUONG.MANUOC, GOINUOC.MAKH, NUOCUONG.TENNUOC, 
--		NUOCUONG.DONGIA, CTGOINUOC.SOLUONG, CTGOINUOC.STATUS
--FROM GOINUOC 
--INNER JOIN CTGOINUOC ON GOINUOC.MAGOINUOC = CTGOINUOC.MAGOINUOC 
--INNER JOIN NUOCUONG ON CTGOINUOC.MANUOC = NUOCUONG.MANUOC
--WHERE  (GOINUOC.STATUS = N'CHƯA THANH TOÁN')
----DROP DATABASE MYCOFFEHOUSE

--SELECT*FROM HOADON

--SELECT CTHD.MACTHD, NUOCUONG.TENNUOC, CTHD.SOLUONG, NUOCUONG.DONGIA, (CTHD.SOLUONG * NUOCUONG.DONGIA) as ThanhTien from BANNUOC, HOADON, NUOCUONG, CTHD
--WHERE CTHD.MANUOC = NUOCUONG.MANUOC AND CTHD.MAHD = HOADON.MAHD AND HOADON.MABAN = BANNUOC.MABAN AND BANNUOC.MABAN = 3

--Select NUOCUONG.MANUOC, NUOCUONG.TENNUOC, NUOCUONG.DVT, NUOCUONG.DONGIA From NUOCUONG

--DELETE NHANVIEN WHERE MANV = N'NV03'
--select * from NHANVIEN